import{defineStore as t}from"pinia";const i=t("cart",{state:()=>({items:[],taxAmount:0,shippingAmount:0}),getters:{subtotal:t=>t.items.reduce((t,i)=>t+i.price*i.quantity,0),total:t=>t.items.reduce((t,i)=>t+i.price*i.quantity,0)+t.taxAmount+t.shippingAmount,count:t=>t.items.reduce((t,i)=>t+i.quantity,0)},actions:{addItem(t,i=1){const e=this.items.find(i=>i.product_id===t.product_id);e?e.quantity+=i:this.items.push({...t,quantity:i})},removeOne(t){const i=this.items.find(i=>i.product_id===t);i&&(i.quantity-=1,i.quantity<=0&&this.removeItem(t))},removeItem(t){this.items=this.items.filter(i=>i.product_id!==t)},updateQuantity(t,i){const e=this.items.find(i=>i.product_id===t);e&&(e.quantity=Math.max(1,i))},clear(){this.items=[]},setTax(t){this.taxAmount=Math.max(0,Number(t)||0)},setShipping(t){this.shippingAmount=Math.max(0,Number(t)||0)}}});export{i};
//# sourceMappingURL=cart-DeOYbeKc.mjs.map
