import{r as e,a as t,_ as i}from"./server.mjs";import{ref as r,mergeProps as s,unref as o,withCtx as d,createTextVNode as a,useSSRContext as n}from"vue";import{ssrRenderAttrs as l,ssrInterpolate as p,ssrRenderComponent as u,ssrRenderClass as c,ssrRenderList as m,ssrRenderAttr as v}from"vue/server-renderer";import{t as x}from"./useCurrency-BC2d31xw.mjs";import"../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";import"pinia";import"vue-router";import"tailwindcss/colors";import"@iconify/vue";import"reka-ui";import"@vueuse/core";import"tailwind-variants";import"@iconify/utils/lib/css/icon";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"unhead/plugins";const g={__name:"[id]",__ssrInlineRender:!0,setup(n){e();const g=r(!0),b=r(null),{formatCOP:f}=x();return(e,r,n,x)=>{var y;const h=t,w=i;var _,$;r(`<div${l(s({class:"max-w-5xl mx-auto p-6"},x))}><div class="flex items-center justify-between mb-6"><h1 class="text-2xl font-bold text-gray-900">Pedido #${p(((null==(y=o(b))?void 0:y.id_order)||"").slice(0,8))}</h1>`),r(u(h,{to:"/shop/cart",class:"text-pink-600 hover:text-pink-700"},{default:d((e,t,i,r)=>{if(!t)return[a("Volver al carrito")];t("Volver al carrito")}),_:1},n)),r("</div>"),o(g)?r('<div class="text-gray-600">Cargando pedido...</div>'):o(b)?(r(`<div class="space-y-6"><div class="bg-white rounded-lg shadow-sm p-4 flex items-center justify-between"><div class="space-y-1"><div class="text-sm text-gray-500">Fecha: ${p(($=o(b).created_at,new Date($).toLocaleString()))}</div><div class="text-sm text-gray-500">Estado de pago: ${p(o(b).payment_status||"pending")}</div></div><div class="flex items-center gap-3"><span class="${c([(_=o(b).status,{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[_]||"bg-gray-100 text-gray-800"),"px-2 py-1 rounded text-xs font-medium"])}">${p(o(b).status)}</span>`),"pending"===o(b).status?r('<button class="px-3 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700"> Cancelar pedido </button>'):r("\x3c!----\x3e"),r('</div></div><div class="bg-white rounded-lg shadow-sm"><div class="p-4 border-b text-lg font-semibold text-gray-900">Productos</div><div>\x3c!--[--\x3e'),m(o(b).order_items||[],e=>{var t,i,s,d;r('<div class="p-4 border-b flex items-center gap-4"><div class="w-16 h-16 rounded bg-gray-100 flex items-center justify-center overflow-hidden">'),(null==(t=e.product)?void 0:t.image_url)?r(`<img${v("src",e.product.image_url)}${v("alt",null==(i=e.product)?void 0:i.name)} class="w-full h-full object-cover">`):r(u(w,{name:"heroicons:shopping-bag",class:"w-6 h-6 text-pink-500"},null,n)),r(`</div><div class="flex-1 min-w-0"><div class="font-medium text-gray-900 truncate">${p(null==(s=e.product)?void 0:s.name)}</div><div class="text-sm text-gray-600">SKU: ${p(null==(d=e.product)?void 0:d.sku)} Â· Cant: ${p(e.quantity)}</div></div><div class="text-sm font-semibold text-gray-900">${p(o(f)(e.total_price||e.quantity*e.unit_price))}</div></div>`)}),r(`\x3c!--]--\x3e</div><div class="p-4 text-right space-y-1"><div class="text-gray-700">Subtotal: ${p(o(f)(o(b).subtotal||0))}</div><div class="text-gray-700">Impuestos: ${p(o(f)(o(b).tax_amount||0))}</div><div class="text-gray-900 font-bold">Total: ${p(o(f)(o(b).total_amount||0))}</div></div></div></div>`)):r('<div class="text-gray-600">Pedido no encontrado.</div>'),r("</div>")}}},b=g.setup;g.setup=(e,t)=>{const i=n();return(i.modules||(i.modules=new Set)).add("pages/orders/[id].vue"),b?b(e,t):void 0};export{g as default};
//# sourceMappingURL=_id_-zaI15xWb.mjs.map
