import{_ as e}from"./server.mjs";import{defineComponent as t,computed as s,ref as l,mergeProps as r,unref as d,withCtx as a,createVNode as i,toDisplayString as o,useSSRContext as n}from"vue";import{ssrRenderAttrs as c,ssrInterpolate as u,ssrRenderComponent as m,ssrRenderStyle as v,ssrRenderList as p,ssrRenderAttr as x,ssrRenderSlot as g}from"vue/server-renderer";import{i as b}from"./useAuth-xVWdD5SQ.mjs";import{h}from"./useTheme-CucovN1S.mjs";import"../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";import"pinia";import"vue-router";import"tailwindcss/colors";import"@iconify/vue";import"reka-ui";import"@vueuse/core";import"tailwind-variants";import"@iconify/utils/lib/css/icon";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"unhead/plugins";const f=t({__name:"DonutRing",__ssrInlineRender:!0,props:{percent:{},size:{default:128},stroke:{default:16},color:{default:"#2563eb"},trackColor:{default:"#e5e7eb"}},setup(e){const t=e,l=s(()=>Math.max(0,Math.min(100,Math.round(t.percent)))),d=s(()=>t.size),a=s(()=>`${d.value}px`),i=s(()=>t.stroke),o=s(()=>(d.value-i.value)/2),n=s(()=>2*Math.PI*o.value),m=s(()=>(100-l.value)/100*n.value),p=s(()=>t.color),b=s(()=>t.trackColor);return(e,t,s,h)=>{t(`<div${c(r({class:"relative",style:{width:a.value,height:a.value}},h))}><svg${x("width",d.value)}${x("height",d.value)}${x("viewBox",`0 0 ${d.value} ${d.value}`)} class="block"><circle${x("cx",d.value/2)}${x("cy",d.value/2)}${x("r",o.value)}${x("stroke",b.value)}${x("stroke-width",i.value)} fill="transparent" stroke-linecap="round"></circle><circle${x("cx",d.value/2)}${x("cy",d.value/2)}${x("r",o.value)}${x("stroke",p.value)}${x("stroke-width",i.value)} fill="transparent" stroke-linecap="round" style="${v({strokeDasharray:n.value+" "+n.value,strokeDashoffset:m.value,transform:"rotate(-90deg)",transformOrigin:"50% 50%"})}"></circle></svg><div class="absolute inset-0 flex items-center justify-center">`),g(e.$slots,"default",{},()=>{t(`${u(l.value)}%`)},t,s),t("</div></div>")}}}),y=f.setup;f.setup=(e,t)=>{const s=n();return(s.modules||(s.modules=new Set)).add("components/common/DonutRing.vue"),y?y(e,t):void 0};const w=t({__name:"index",__ssrInlineRender:!0,setup(t){const{user:n}=b(),x=s(()=>{var e;return(null==(e=n.value)?void 0:e.name)||null});h();const g=l({totalUsers:0,totalProducts:0,totalOrders:0,totalRevenue:0,totalCustomers:0,weeklySales:0,newProducts:0,weeklyOrders:0}),y=l([]);s(()=>y.value.reduce((e,t)=>e+t.sales,0));const w=l({totalProducts:0,newProducts:0}),k=s(()=>{const e=w.value.totalProducts||1,t=Math.round(w.value.newProducts/e*100);return isNaN(t)?0:t}),j=()=>k.value;l([]);const $=e=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e),_=e=>{const t=Math.max(...y.value.map(e=>e.sales),1);return`${Math.round(e/t*100)}%`};return(t,s,l,n)=>{const b=e;s(`<div${c(r({class:"min-h-screen p-6 transition-colors duration-300 theme-container"},n))}><div class="mb-8"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold mb-2 transition-colors theme-text-primary">Dashboard</h1><p class="transition-colors theme-text-secondary">Bienvenido de vuelta, ${u(d(x)||"Admin")}! Aquí tienes un resumen de tu negocio.</p></div><div class="flex items-center space-x-4"></div></div></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"><div class="card card-hover hover:shadow-lg transition-all duration-300"><div class="flex items-center justify-between mb-4"><div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-xl flex items-center justify-center">`),s(m(b,{name:"heroicons:users",class:"w-6 h-6 text-blue-600 dark:text-blue-400"},null,l)),s(`</div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">${u(d(g).totalUsers||0)}</p><p class="text-green-600 dark:text-green-400 text-sm font-medium">+12% este mes</p></div></div><p class="text-sm font-medium theme-text-secondary">Total Usuarios</p><div class="mt-4 flex items-center space-x-2"><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-500" style="${v({width:"75%"})}"></div></div><span class="text-xs theme-text-muted">75%</span></div></div><div class="card card-hover hover:shadow-lg transition-all duration-300"><div class="flex items-center justify-between mb-4"><div class="w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-xl flex items-center justify-center">`),s(m(b,{name:"heroicons:cube",class:"w-6 h-6 text-green-600 dark:text-green-400"},null,l)),s(`</div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">${u(d(g).totalProducts||0)}</p><p class="text-green-600 dark:text-green-400 text-sm font-medium">+8% este mes</p></div></div><p class="text-sm font-medium theme-text-secondary">Total Productos</p><div class="mt-4 flex items-center space-x-2"><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-green-600 dark:bg-green-400 h-2 rounded-full transition-all duration-500" style="${v({width:"60%"})}"></div></div><span class="text-xs theme-text-muted">60%</span></div></div><div class="card card-hover hover:shadow-lg transition-all duration-300"><div class="flex items-center justify-between mb-4"><div class="w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-xl flex items-center justify-center">`),s(m(b,{name:"heroicons:shopping-cart",class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"},null,l)),s(`</div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">${u(d(g).totalOrders||0)}</p><p class="text-green-600 dark:text-green-400 text-sm font-medium">+15% este mes</p></div></div><p class="text-sm font-medium theme-text-secondary">Total Órdenes</p><div class="mt-4 flex items-center space-x-2"><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-yellow-600 dark:bg-yellow-400 h-2 rounded-full transition-all duration-500" style="${v({width:"85%"})}"></div></div><span class="text-xs theme-text-muted">85%</span></div></div><div class="card card-hover hover:shadow-lg transition-all duration-300"><div class="flex items-center justify-between mb-4"><div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-xl flex items-center justify-center">`),s(m(b,{name:"heroicons:currency-dollar",class:"w-6 h-6 text-purple-600 dark:text-purple-400"},null,l)),s(`</div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">$${u($(d(g).totalRevenue||0))}</p><p class="text-green-600 dark:text-green-400 text-sm font-medium">+20% este mes</p></div></div><p class="text-sm font-medium theme-text-secondary">Ingresos Totales</p><div class="mt-4 flex items-center space-x-2"><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-purple-600 dark:bg-purple-400 h-2 rounded-full transition-all duration-500" style="${v({width:"90%"})}"></div></div><span class="text-xs theme-text-muted">90%</span></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"><div class="card"><div class="flex items-center justify-between mb-6"><div><h3 class="text-xl font-bold theme-text-primary">Ventas</h3><p class="text-sm theme-text-secondary">Últimos 7 días</p></div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">$${u($(d(g).weeklySales||0))}</p><p class="text-green-600 dark:text-green-400 text-sm font-medium">+12.5%</p></div></div><div class="space-y-3">\x3c!--[--\x3e`),p(d(y),e=>{var t;s(`<div class="flex items-center space-x-2"><span class="text-xs w-16 theme-text-muted">${u((t=e.date,new Date(t).toLocaleDateString("es-ES",{weekday:"short"})))}</span><div class="flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-3"><div class="bg-blue-600 dark:bg-blue-400 h-3 rounded-full transition-all duration-500" style="${v({width:_(e.sales)})}"></div></div><span class="text-xs w-16 theme-text-muted">$${u($(e.sales))}</span></div>`)}),s(`\x3c!--]--\x3e</div></div><div class="card"><div class="flex items-center justify-between mb-6"><div><h3 class="text-xl font-bold theme-text-primary">Productos</h3><p class="text-sm theme-text-secondary">Nuevos últimos 7 días</p></div><div class="text-right"><p class="text-2xl font-bold theme-text-primary">${u(d(w).newProducts)}</p></div></div><div class="flex items-center justify-center mb-4">`),s(m(f,{percent:j(),size:128,stroke:16,color:"#2563eb","track-color":"#374151"},{default:a((e,t,s,l)=>{if(!t)return[i("span",{class:"text-2xl font-bold theme-text-primary"},o(j())+"%",1)];t(`<span class="text-2xl font-bold theme-text-primary"${l}>${u(j())}%</span>`)}),_:1},l)),s(`</div><p class="text-center text-sm theme-text-secondary">${u(d(w).newProducts)} nuevos de ${u(d(w).totalProducts)}</p></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"><div class="card"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-bold theme-text-primary">Total Órdenes</h3><select class="text-sm rounded-lg px-3 py-1 theme-select"><option>Esta Semana</option><option>Este Mes</option><option>Este Año</option></select></div><div class="space-y-2"><div class="flex items-center space-x-2"><div class="w-16 h-8 bg-blue-600 dark:bg-blue-400 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-12 bg-blue-400 dark:bg-blue-300 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-6 bg-blue-500 dark:bg-blue-500 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-10 bg-blue-300 dark:bg-blue-600 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-8 bg-blue-600 dark:bg-blue-400 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-14 bg-blue-400 dark:bg-blue-300 rounded-tl-lg rounded-tr-lg"></div><div class="w-16 h-9 bg-blue-500 dark:bg-blue-500 rounded-tl-lg rounded-tr-lg"></div></div></div><div class="mt-4 text-center"><p class="text-2xl font-bold theme-text-primary">${u(d(g).weeklyOrders||0)}</p><p class="text-sm theme-text-secondary">Órdenes esta semana</p></div></div><div class="card"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-bold theme-text-primary">Clientes</h3><span class="text-green-600 dark:text-green-400 text-sm font-medium">+26.5%</span></div><div class="text-center mb-4"><p class="text-3xl font-bold theme-text-primary">${u(d(g).totalCustomers||0)}</p><p class="text-sm theme-text-secondary">Total de clientes</p></div><div class="space-y-2"><div class="flex items-center space-x-2"><div class="w-8 h-4 bg-blue-600 dark:bg-blue-400 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-6 bg-blue-400 dark:bg-blue-300 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-3 bg-blue-500 dark:bg-blue-500 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-7 bg-blue-300 dark:bg-blue-600 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-5 bg-blue-600 dark:bg-blue-400 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-8 bg-blue-400 dark:bg-blue-300 rounded-tl-lg rounded-tr-lg"></div><div class="w-8 h-6 bg-blue-500 dark:bg-blue-500 rounded-tl-lg rounded-tr-lg"></div></div></div><p class="text-center text-sm mt-4 theme-text-secondary">Abril 07 - Abril 14</p></div></div><div class="fixed bottom-6 right-6"><button class="w-14 h-14 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center theme-accent-button">`),s(m(b,{name:"heroicons:cog-6-tooth",class:"w-6 h-6"},null,l)),s("</button></div></div>")}}}),k=w.setup;w.setup=(e,t)=>{const s=n();return(s.modules||(s.modules=new Set)).add("pages/admin/index.vue"),k?k(e,t):void 0};export{w as default};
//# sourceMappingURL=index-DyFFTYnH.mjs.map
