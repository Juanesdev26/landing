{"version":3,"file":"index3.mjs","sources":["../../../../../../../server/api/dashboard/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","respondError","requireAuth","count","totalUsers","error","usersError","from","select","head","totalProducts","productsError","totalOrders","ordersError","data","salesRows","revenueError","console","totalRevenue","reduce","sum","row","total_amount","sevenDaysAgoIso","Date","now","toISOString","weeklySalesRows","weeklySalesError","gte","weeklySales","newProducts","newProductsError","weeklyOrders","weeklyOrdersError","totalCustomers","customersError","respondSuccess"],"mappings":"uTAGA,MAAAA,EAAAC,EAAAC,MAAAC,IACA,MAAAC,EAAAC,EAAAF,GACAG,QAAAC,EAAAJ,GAEA,GAAA,QAAAC,EACA,OAAAI,EAAA,uBAGA,UAEAC,EAAAN,GAGA,MAAAO,MAAAC,EAAAC,MAAAC,SAAAP,EACAQ,KAAA,YACAC,OAAA,KAAA,CAAAL,MAAA,QAAAM,MAAA,KAGAN,MAAAO,EAAAL,MAAAM,SAAAZ,EACAQ,KAAA,YACAC,OAAA,aAAA,CAAAL,MAAA,QAAAM,MAAA,KAGAN,MAAAS,EAAAP,MAAAQ,SAAAd,EACAQ,KAAA,UACAC,OAAA,WAAA,CAAAL,MAAA,QAAAM,MAAA,KAGAK,KAAAC,EAAAV,MAAAW,SAAAjB,EACAQ,KAAA,UACAC,OAAA,gBAEAF,GAAAW,QAAAZ,MAAA,aAAAC,GACAK,GAAAM,QAAAZ,MAAA,gBAAAM,GACAE,GAAAI,QAAAZ,MAAA,cAAAQ,GACAG,GAAAC,QAAAZ,MAAA,eAAAW,GAEA,MAAAE,GAAAH,GAAA,IAAAI,OAAA,CAAAC,EAAAC,IAAAD,GAAAC,EAAAC,cAAA,GAAA,GAGAC,EAAA,IAAAC,KAAAA,KAAAC,MAAA,QAAAC,eAGAZ,KAAAa,EAAAtB,MAAAuB,SAAA7B,EACAQ,KAAA,UACAC,OAAA,4BACAqB,IAAA,aAAAN,GACAO,GAAAH,GAAA,IAAAR,OAAA,CAAAC,EAAAC,IAAAD,GAAAC,EAAAC,cAAA,GAAA,GACAM,GAAAX,QAAAZ,MAAA,mBAAAuB,GAGA,MAAAzB,MAAA4B,EAAA1B,MAAA2B,SAAAjC,EACAQ,KAAA,YACAC,OAAA,aAAA,CAAAL,MAAA,QAAAM,MAAA,IACAoB,IAAA,aAAAN,GACAS,GAAAf,QAAAZ,MAAA,mBAAA2B,GAGA,MAAA7B,MAAA8B,EAAA5B,MAAA6B,SAAAnC,EACAQ,KAAA,UACAC,OAAA,WAAA,CAAAL,MAAA,QAAAM,MAAA,IACAoB,IAAA,aAAAN,GACAW,GAAAjB,QAAAZ,MAAA,oBAAA6B,GAGA,MAAA/B,MAAAgC,EAAA9B,MAAA+B,SAAArC,EACAQ,KAAA,aACAC,OAAA,cAAA,CAAAL,MAAA,QAAAM,MAAA,IAGA,OAFA2B,GAAAnB,QAAAZ,MAAA,iBAAA+B,GAEAC,EAAA,CACAjC,WAAAA,GAAA,EACAM,cAAAA,GAAA,EACAE,YAAAA,GAAA,EACAM,eACAY,YAAAA,GAAA,EACAC,YAAAA,GAAA,EACAE,aAAAA,GAAA,EACAE,eAAAA,GAAA,GAEA,OAAA9B,GAEA,OADAY,QAAAZ,MAAA,+BAAAA,GACAJ,EAAA,6BACA"}