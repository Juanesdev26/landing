{"version":3,"file":"index.mjs","sources":["../../../../../../../../server/api/inventory/adjustments/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","respondError","requireAdmin","body","readBody","product_id","adjustment_type","quantity","reason","data","product","error","productError","from","select","eq","single","currentStock","stock_quantity","newStock","Math","max","movementData","movement_type","abs","stock_before","stock_after","description","reference","movement","movementError","insert","console","updateError","update","updated_at","Date","toISOString","delete","id_movement","respondSuccess","old_stock","new_stock"],"mappings":"uTAQA,MAAAA,EAAAC,EAAAC,MAAAC,IACA,MAAAC,EAAAC,EAAAF,GACAG,QAAAC,EAAAJ,GAEA,GAAA,SAAAC,EACA,OAAAI,EAAA,uBAGA,UACAC,EAAAN,GACA,MAAAO,QAAAC,EAAAR,GAGA,IAAAO,EAAAE,aAAAF,EAAAG,sBAAA,IAAAH,EAAAI,UAAA,OAAAJ,EAAAI,WAAAJ,EAAAK,OACA,OAAAP,EAAA,qCAIA,MAAAQ,KAAAC,EAAAC,MAAAC,SAAAb,EACAc,KAAA,YACAC,OAAA,kBACAC,GAAA,aAAAZ,EAAAE,YACAW,SAEA,GAAAJ,IAAAF,EACA,OAAAT,EAAA,0BAGA,MAAAgB,EAAAP,EAAAQ,eACA,IAAAC,EAAAF,EAGA,OAAAd,EAAAG,iBACA,IAAA,MACAa,EAAAhB,EAAAI,SACA,MACA,IAAA,MACAY,EAAAF,EAAAd,EAAAI,SACA,MACA,IAAA,WACAY,EAAAC,KAAAC,IAAA,EAAAJ,EAAAd,EAAAI,UACA,MACA,QACA,OAAAN,EAAA,4BAIA,MAAAqB,EAAA,CACAjB,WAAAF,EAAAE,WACAkB,cAAA,aACAhB,SAAAa,KAAAI,IAAAL,EAAAF,GACAQ,aAAAR,EACAS,YAAAP,EACAX,OAAAL,EAAAK,OACAmB,YAAAxB,EAAAwB,aAAA,oBAAAxB,EAAAG,kBACAsB,UAAAzB,EAAAyB,WAAA,OAGAnB,KAAAoB,EAAAlB,MAAAmB,SAAA/B,EACAc,KAAA,uBACAkB,OAAAT,GACAR,SACAE,SAEA,GAAAc,EAEA,OADAE,QAAArB,MAAA,sCAAAmB,GACA7B,EAAA,sCAIA,MAAAU,MAAAsB,SAAAlC,EACAc,KAAA,YACAqB,OAAA,CACAhB,eAAAC,EACAgB,YAAA,IAAAC,MAAAC,gBAEAtB,GAAA,aAAAZ,EAAAE,YAEA,OAAA4B,GACAD,QAAArB,MAAA,4BAAAsB,SAEAlC,EACAc,KAAA,uBACAyB,SACAvB,GAAA,cAAAc,EAAAU,aAEAtC,EAAA,0CAGAuC,EAAA,CAAAX,WAAAY,UAAAxB,EAAAyB,UAAAvB,GACA,OAAAR,GAEA,OADAqB,QAAArB,MAAA,oBAAAA,GACAV,EAAA,6BACA"}