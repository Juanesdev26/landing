import{d as o,g as r,s as t,c as e,m as i,r as s,b as n}from"../../../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";const a=o(async o=>{const a=r(o),d=await t(o);if("GET"===a)try{await e(o);const r=i(o).product_id;if(!r)return s("ID de producto requerido");const{data:t,error:a}=await d.from("inventory_movements").select("*, movement_date:created_at").eq("product_id",r).order("created_at",{ascending:!1});return a?(console.error("Error obteniendo movimientos:",a),s("Error obteniendo movimientos")):n(t)}catch(o){return console.error("Error inesperado:",o),s("Error interno del servidor")}return s("MÃ©todo no permitido")});export{a as default};
//# sourceMappingURL=index2.mjs.map
