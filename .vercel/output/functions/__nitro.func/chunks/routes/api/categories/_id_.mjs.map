{"version":3,"file":"_id_.mjs","sources":["../../../../../../../../server/api/categories/[id].ts"],"sourcesContent":null,"names":["_id_","defineEventHandler","async","event","method","getMethod","id","getRouterParam","supabase","serverSupabaseClient","success","error","data","category","from","select","eq","single","code","console","processedCategory","product_count","_b","_a","products","count","respondSuccess","respondError","requireAdmin","contentType","getHeader","body","uploadedImageUrl","includes","form","readMultipartFormData","fields","filePart","part","type","name","filename","_c","toString","fileExt","split","pop","filePath","crypto","randomUUID","uploadError","storage","upload","mimetype","upsert","publicUrl","getPublicUrl","readBody","trim","existingCategory","checkError","neq","updateData","description","_d","image_url","is_active","updated_at","Date","toISOString","update","productsError","limit","length","delete","statusCode"],"mappings":"sVAUA,MAAAA,EAAAC,EAAAC,MAAAC,gBACA,MAAAC,EAAAC,EAAAF,GACAG,EAAAC,EAAAJ,EAAA,MACAK,QAAAC,EAAAN,GAEA,IAAAG,EACA,MAAA,CACAI,SAAA,EACAC,MAAA,4BACAC,KAAA,MAIA,GAAA,QAAAR,EACA,IACA,MAAAQ,KAAAC,EAAAF,MAAAA,SAAAH,EACAM,KAAA,cACAC,OAAA,gEAIAC,GAAA,cAAAV,GACAW,SAEA,GAAAN,EACA,MAAA,aAAAA,EAAAO,KACA,CACAR,SAAA,EACAC,MAAA,0BACAC,KAAA,OAGAO,QAAAR,MAAA,8BAAAA,GACA,CACAD,SAAA,EACAC,MAAA,6BACAC,KAAA,OAKA,MAAAQ,EAAA,IACAP,EACAQ,eAAA,OAAAC,EAAA,OAAAC,EAAA,MAAAV,OAAA,EAAAA,EAAAW,eAAA,EAAAD,EAAA,aAAAE,QAAA,GAGA,OAAAC,EAAAN,EACA,OAAAT,GAEA,OADAQ,QAAAR,MAAA,oBAAAA,GACAgB,EAAA,6BACA,CAGA,GAAA,QAAAvB,EACA,UACAwB,EAAAzB,GACA,MAAA0B,EAAAC,EAAA3B,EAAA,iBAAA,GACA,IAAA4B,EAAA,CAAA,EACAC,EAAA,KACA,GAAAH,EAAAI,SAAA,uBAAA,CACA,MAAAC,QAAAC,EAAAhC,GACAiC,EAAA,CAAA,EACA,IAAAC,EAAA,KACA,IAAA,MAAAC,KAAAJ,GAAA,GACA,SAAAI,EAAAC,KACA,UAAAD,EAAAE,MAAAF,EAAA1B,MAAA0B,EAAAG,WAAAJ,EAAAC,GACAA,EAAAE,OACAJ,EAAAE,EAAAE,OAAA,OAAAE,EAAAJ,EAAA1B,eAAA+B,aAAA,IAIA,GADAZ,EAAAK,EACAC,EAAA,CACA,MAAAO,EAAAP,EAAAI,SAAAI,MAAA,KAAAC,MACAC,EAAA,GAAAC,OAAAC,gBAAAL,KACAjC,MAAAuC,SAAA1C,EAAA2C,QACArC,KAAA,iBACAsC,OAAAL,EAAAV,EAAAzB,KAAA,CAAAiB,YAAAQ,EAAAgB,SAAAC,QAAA,IACA,IAAAJ,EAAA,CACA,MAAAtC,KAAA2C,GAAA/C,EAAA2C,QAAArC,KAAA,iBAAA0C,aAAAT,GACAf,EAAAuB,EAAAA,SACA,CACA,CACA,MACAxB,QAAA0B,EAAAtD,GAIA,IAAA4B,EAAAS,OAAAT,EAAAS,KAAAkB,OACA,OAAA/B,EAAA,4CAIA,MAAAf,KAAA+C,EAAAhD,MAAAiD,SAAApD,EACAM,KAAA,cACAC,OAAA,eACAC,GAAA,OAAAe,EAAAS,KAAAkB,QACAG,IAAA,cAAAvD,GACAW,SAEA,GAAA0C,EACA,OAAAhC,EAAA,2CAIA,MAAAmC,EAAA,CACAtB,KAAAT,EAAAS,KAAAkB,OACAK,aAAA,OAAAC,EAAAjC,EAAAgC,kBAAA,EAAAC,EAAAN,SAAA,KACAO,UAAAjC,GAAAD,EAAAkC,WAAA,KACAC,eAAA,IAAAnC,EAAAmC,WAAAnC,EAAAmC,UACAC,YAAA,IAAAC,MAAAC,gBAGAzD,KAAAA,EAAAD,MAAAA,SAAAH,EACAM,KAAA,cACAwD,OAAAR,GACA9C,GAAA,cAAAV,GACAS,SACAE,SAEA,OAAAN,GACAQ,QAAAR,MAAA,gCAAAA,GACAgB,EAAA,iCAGAD,EAAA,IAAAd,EAAAS,cAAA,GACA,OAAAV,GAEA,OADAQ,QAAAR,MAAA,oBAAAA,GACAgB,EAAA,6BACA,CAGA,GAAA,WAAAvB,EACA,UAEAwB,EAAAzB,GAEA,MAAAS,KAAAY,EAAAb,MAAA4D,SAAA/D,EACAM,KAAA,YACAC,OAAA,cACAC,GAAA,cAAAV,GACAkE,MAAA,GAEA,GAAAD,EAEA,OADApD,QAAAR,MAAA,+BAAA4D,GACA5C,EAAA,yCAGA,GAAAH,GAAAA,EAAAiD,OAAA,EACA,OAAA9C,EAAA,sEAIA,MAAAhB,MAAAA,SAAAH,EACAM,KAAA,cACA4D,SACA1D,GAAA,cAAAV,GAEA,OAAAK,GACAQ,QAAAR,MAAA,8BAAAA,GACAgB,EAAA,+BAGAD,EAAA,KACA,OAAAf,GAIA,GAAA,MAAAA,OAAA,EAAAA,EAAAgE,WAAA,MAAAhE,EAEA,OADAQ,QAAAR,MAAA,oBAAAA,GACAgB,EAAA,6BACA,CAIA,OAAAA,EAAA"}