import{d as r,g as t,s as e,r as o,e as s,b as a}from"../../../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";const i=r(async r=>{const i=t(r),n=await e(r);if("GET"!==i)return o("MÃ©todo no permitido");try{const t=await s(r);if(!t)return a([]);const{data:e,error:i}=await n.from("reservations").select("\n        id_reservation,\n        product_id,\n        quantity,\n        status,\n        expires_at,\n        created_at,\n        updated_at\n      ").eq("user_id",t.id).order("created_at",{ascending:!1});return i?o("Error obteniendo mis reservas",i.message):a(e||[])}catch(r){return console.error("GET /api/reservations/my error:",r),o("Error interno del servidor")}});export{i as default};
//# sourceMappingURL=my.mjs.map
