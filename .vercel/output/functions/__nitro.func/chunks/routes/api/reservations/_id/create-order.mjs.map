{"version":3,"file":"create-order.mjs","sources":["../../../../../../../../../server/api/reservations/[id]/create-order.ts"],"sourcesContent":null,"names":["createOrder","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","id","getRouterParam","respondError","requireAdmin","res","from","select","eq","single","reservationError","error","reservation","data","status","customerRes","user_id","customerId","_a","id_customer","profile","user","createCust","insert","first_name","last_name","email","is_active","quantity","Number","unitPrice","_b","product","price","subtotal","newOrder","customer_id","total_amount","tax_amount","shipping_amount","shipping_address","billing_address","payment_method","payment_status","tracking_number","notes","order_source","assigned_user_id","orderRes","message","orderData","item","order_id","id_order","product_id","unit_price","total_price","itemsRes","delete","update","updated_at","Date","toISOString","respondSuccess","e","console"],"mappings":"oUAGA,MAAAA,EAAAC,EAAAC,MAAAC,YACA,MAAAC,EAAAC,EAAAF,GACAG,QAAAC,EAAAJ,GACAK,EAAAC,EAAAN,EAAA,MACA,GAAA,SAAAC,EAAA,OAAAM,EAAA,uBACA,IAAAF,EAAA,OAAAE,EAAA,2BAEA,UACAC,EAAAR,GAGA,MAAAS,QAAAN,EACAO,KAAA,gBACAC,OAAA,qJAKAC,GAAA,iBAAAP,GACAQ,SACAC,EAAAL,EAAAM,MACAC,EAAAP,EAAAQ,KACA,GAAAH,IAAAE,EAAA,OAAAT,EAAA,yBACA,GAAA,YAAAS,EAAAE,OAAA,OAAAX,EAAA,gCAGA,MAAAY,QAAAhB,EACAO,KAAA,aACAC,OAAA,eACAC,GAAA,UAAAI,EAAAI,SACAP,SACA,IAAAQ,EAAA,OAAAC,EAAAH,EAAAF,WAAA,EAAAK,EAAAC,YACA,IAAAJ,EAAAF,MAAAE,EAAAJ,MAAA,CACA,MAAAS,EAAAR,EAAAS,KACAC,QAAAvB,EACAO,KAAA,aACAiB,OAAA,CACAP,QAAAJ,EAAAI,QACAQ,kBAAAJ,WAAAI,aAAA,UACAC,iBAAAL,WAAAK,YAAA,MACAC,aAAAN,WAAAM,QAAA,KACAC,WAAA,IAEApB,OAAA,eACAE,SACA,GAAAa,EAAAX,MAAA,OAAAR,EAAA,yBACAc,EAAAK,EAAAT,KAAAM,WACA,CAEA,IAAAF,EAAA,OAAAd,EAAA,2CAGA,MAAAyB,EAAAC,OAAAjB,EAAAgB,UACAE,EAAAD,QAAA,OAAAE,EAAAnB,EAAAoB,cAAA,EAAAD,EAAAE,QAAA,GACAC,EAAAJ,EAAAF,EACAO,EAAA,CACAC,YAAAnB,EACAoB,aAAAH,EACAA,WACAI,WAAA,EACAC,gBAAA,EACAzB,OAAA,UACA0B,iBAAA,KACAC,gBAAA,KACAC,eAAA,KACAC,eAAA,UACAC,gBAAA,KACAC,MAAA,wBAAA5C,IACA6C,aAAA,QACAC,iBAAA,MAGAC,QAAAjD,EACAO,KAAA,UACAiB,OAAAY,GACA5B,SACAE,SACA,GAAAuC,EAAArC,MAAA,OAAAR,EAAA,uBAAA6C,EAAArC,MAAAsC,SACA,MAAAC,EAAAF,EAAAnC,KAEAsC,EAAA,CACAC,SAAAF,EAAAG,SACAC,WAAA1C,EAAA0C,WACA1B,WACA2B,WAAAzB,EACA0B,YAAA1B,EAAAF,GAEA6B,QAAA1D,EACAO,KAAA,eACAiB,OAAA4B,GACA,OAAAM,EAAA9C,aACAZ,EAAAO,KAAA,UAAAoD,SAAAlD,GAAA,WAAA0C,EAAAG,UACAlD,EAAA,iCAAAsD,EAAA9C,MAAAsC,iBAIAlD,EACAO,KAAA,gBACAqD,OAAA,CAAA7C,OAAA,YAAA8C,YAAA,IAAAC,MAAAC,gBACAtD,GAAA,iBAAAP,GAEA8D,EAAAb,EAAA,+BACA,OAAAc,GAEA,OADAC,QAAAtD,MAAA,qDAAAqD,GACA7D,EAAA,6BACA"}