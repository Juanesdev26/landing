import{d as r,g as t,s as o,r as e,b as s}from"../../../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";const i=r(async r=>{const i=t(r),a=await o(r);if("GET"!==i)return e("Método no permitido");try{const{data:r,error:t}=await a.from("offers").select("id_offer, title, discount_percent, used_count, total_count, created_at").order("created_at",{ascending:!1}).limit(1).maybeSingle();return t?e("Error obteniendo última oferta",t.message):s(r)}catch(r){return console.error("GET /api/offers/latest error:",r),e("Error interno del servidor")}});export{i as default};
//# sourceMappingURL=latest.mjs.map
