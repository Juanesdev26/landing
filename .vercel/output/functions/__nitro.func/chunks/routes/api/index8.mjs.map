{"version":3,"file":"index8.mjs","sources":["../../../../../../../server/api/profiles/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","config","useRuntimeConfig","serviceClient","createClient","public","supabaseUrl","supabaseServiceKey","auth","persistSession","data","profiles","error","from","select","order","ascending","console","success","details","message","processedProfiles","map","profile","full_name","first_name","last_name","trim","respondSuccess","respondError","requireAdmin","body","readBody","email","password","role","existingProfile","checkError","eq","single","code","authData","authError","admin","createUser","toLowerCase","email_confirm","newProfile","id","user","name","phone","_a","address","_b","city","_c","state","_d","postal_code","_e","country","_f","birth_date","gender","is_active","notes","_g","profileData","profileError","upsert","onConflict","deleteUser"],"mappings":"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"}