{"version":3,"file":"index2.mjs","sources":["../../../../../../../server/api/customers/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","data","customers","error","from","select","order","ascending","console","success","details","message","ids","map","c","id_customer","counts","length","orders","in","o","customer_id","customer","order_count","requireAdmin","body","readBody","first_name","last_name","email","existingCustomer","checkError","eq","single","code","newCustomer","trim","toLowerCase","phone","_a","address","_b","city","_c","state","_d","postal_code","_e","country","_f","birth_date","gender","notes","_g","is_active","insert"],"mappings":"gTAGA,MAAAA,EAAAC,EAAAC,MAAAC,sBACA,MAAAC,EAAAC,EAAAF,GACAG,QAAAC,EAAAJ,GAEA,GAAA,QAAAC,EACA,IAEA,MAAAI,KAAAC,EAAAC,MAAAA,SAAAJ,EACAK,KAAA,aACAC,OAAA,KACAC,MAAA,aAAA,CAAAC,WAAA,IAEA,GAAAJ,EAEA,OADAK,QAAAL,MAAA,6BAAAA,GACA,CACAF,KAAA,CACAQ,SAAA,EACAN,MAAA,4BACAO,QAAAP,EAAAQ,UAMA,MAAAC,GAAAV,GAAA,IAAAW,IAAAC,GAAAA,EAAAC,aACA,IAAAC,EAAA,CAAA,EACA,GAAAJ,EAAAK,OAAA,EAAA,CACA,MAAAhB,KAAAiB,SAAAnB,EACAK,KAAA,UACAC,OAAA,eACAc,GAAA,cAAAP,GACA,IAAA,MAAAQ,KAAAF,GAAA,GACAF,EAAAI,EAAAC,cAAAL,EAAAI,EAAAC,cAAA,GAAA,CAEA,CAOA,MAAA,CACApB,KAAA,CACAQ,SAAA,EACAR,MARAC,GAAA,IAAAW,IAAAS,IAAA,IACAA,EACAC,YAAAP,EAAAM,EAAAP,cAAA,MAUA,OAAAZ,GAEA,OADAK,QAAAL,MAAA,+BAAAA,GACA,CACAF,KAAA,CACAQ,SAAA,EACAN,MAAA,8BAGA,CAGA,GAAA,SAAAN,EAAA,OACA2B,EAAA5B,GACA,IACA,MAAA6B,QAAAC,EAAA9B,GAGA,IAAA6B,EAAAE,aAAAF,EAAAG,YAAAH,EAAAI,MACA,MAAA,CACA5B,KAAA,CACAQ,SAAA,EACAN,MAAA,uDAMA,MAAAF,KAAA6B,EAAA3B,MAAA4B,SAAAhC,EACAK,KAAA,aACAC,OAAA,eACA2B,GAAA,QAAAP,EAAAI,OACAI,SAEA,GAAAF,GAAA,aAAAA,EAAAG,KAEA,OADA1B,QAAAL,MAAA,qCAAA4B,GACA,CACA9B,KAAA,CACAQ,SAAA,EACAN,MAAA,sCAKA,GAAA2B,EACA,MAAA,CACA7B,KAAA,CACAQ,SAAA,EACAN,MAAA,wCAMA,MAAAgC,EAAA,CACAR,WAAAF,EAAAE,WAAAS,OACAR,UAAAH,EAAAG,UAAAQ,OACAP,MAAAJ,EAAAI,MAAAO,OAAAC,cACAC,OAAA,OAAAC,EAAAd,EAAAa,YAAA,EAAAC,EAAAH,SAAA,KACAI,SAAA,OAAAC,EAAAhB,EAAAe,cAAA,EAAAC,EAAAL,SAAA,KACAM,MAAA,OAAAC,EAAAlB,EAAAiB,WAAA,EAAAC,EAAAP,SAAA,KACAQ,OAAA,OAAAC,EAAApB,EAAAmB,YAAA,EAAAC,EAAAT,SAAA,KACAU,aAAA,OAAAC,EAAAtB,EAAAqB,kBAAA,EAAAC,EAAAX,SAAA,KACAY,SAAA,OAAAC,EAAAxB,EAAAuB,cAAA,EAAAC,EAAAb,SAAA,KACAc,WAAAzB,EAAAyB,YAAA,KACAC,OAAA1B,EAAA0B,QAAA,KACAC,OAAA,OAAAC,EAAA5B,EAAA2B,YAAA,EAAAC,EAAAjB,SAAA,KACAkB,eAAA,IAAA7B,EAAA6B,WAAA7B,EAAA6B,YAGArD,KAAAA,EAAAE,MAAAA,SAAAJ,EACAK,KAAA,aACAmD,OAAApB,GACA9B,SACA4B,SAEA,OAAA9B,GACAK,QAAAL,MAAA,yBAAAA,GACA,CACAF,KAAA,CACAQ,SAAA,EACAN,MAAA,wBACAO,QAAAP,EAAAQ,WAKA,CACAV,KAAA,CACAQ,SAAA,EACAR,OACAU,QAAA,+BAIA,OAAAR,GAEA,OADAK,QAAAL,MAAA,gCAAAA,GACA,CACAF,KAAA,CACAQ,SAAA,EACAN,MAAA,8BAGA,CACA,CAEA,MAAA,CACAF,KAAA,CACAQ,SAAA,EACAN,MAAA"}