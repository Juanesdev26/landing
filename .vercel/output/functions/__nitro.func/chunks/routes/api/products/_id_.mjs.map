{"version":3,"file":"_id_.mjs","sources":["../../../../../../../../server/api/products/[id].ts"],"sourcesContent":null,"names":["_id_","defineEventHandler","async","event","client","serverSupabaseClient","method","getMethod","id","getRouterParam","createError","statusCode","statusMessage","data","product","error","getError","from","select","eq","single","code","respondSuccess","requireAdmin","contentType","getHeader","updateBody","uploadedImageUrl","includes","form","readMultipartFormData","fields","filePart","part","type","name","filename","_a","toString","fileExt","split","pop","filePath","crypto","randomUUID","uploadError","storage","upload","mimetype","upsert","publicUrl","getPublicUrl","readBody","requiredFields","field","updatedProduct","updateError","update","description","price","parseFloat","stock_quantity","parseInt","category_id","brand","sku","image_url","is_active","updated_at","Date","toISOString","deleteError","delete","console","respondError","message"],"mappings":"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"}