import{d as r,g as t,s as e,r as o,a as s,b as a}from"../../../_/nitro.mjs";import"@supabase/supabase-js";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@supabase/ssr";import"@iconify/utils";import"node:crypto";import"consola";import"ioredis";import"node:fs";import"node:path";const i=r(async r=>{const i=t(r),n=await e(r);if("GET"!==i)return o("MÃ©todo no permitido");try{await s(r);const{count:t,error:e}=await n.from("customers").select("id_customer",{count:"exact",head:!0});if(e)return o("Error obteniendo clientes",e.message);const{data:i,error:m}=await n.from("customers").select("id_customer, first_name, last_name, email, created_at").order("created_at",{ascending:!1}).limit(10);return m?o("Error obteniendo clientes recientes",m.message):a({totalCustomers:t||0,recentCustomers:i})}catch(r){return console.error("GET /api/customers/stats error:",r),o("Error interno del servidor")}});export{i as default};
//# sourceMappingURL=stats.mjs.map
