{"version":3,"file":"_id_.mjs","sources":["../../../../../../../../server/api/customers/[id].ts"],"sourcesContent":null,"names":["_id_","defineEventHandler","async","event","method","getMethod","supabase","serverSupabaseClient","id","getRouterParam","success","error","data","customer","from","select","eq","single","code","console","details","message","count","ordersCount","head","order_count","requireAdmin","body","readBody","first_name","last_name","email","existingCustomer","checkError","neq","updatedCustomer","trim","toLowerCase","phone","_a","address","_b","city","_c","state","_d","postal_code","_e","country","_f","birth_date","gender","notes","_g","is_active","updated_at","Date","toISOString","update","orders","ordersError","limit","length","delete"],"mappings":"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"}